import{p as S,c as A,a as c,e,b as t,i as B,w as i,u as n,k as g,o as u,d as p,I as r,f,g as d,h as v,n as x,F as w,r as k,t as _,y as b,s as E,v as V}from"./index-Bn41b26O.js";const q={class:"space-y-6"},F={class:"flex items-center gap-3"},H={class:"space-y-4"},Q={class:"flex items-center gap-3"},K=["checked"],U={class:"flex items-center gap-3"},J=["checked"],X={key:0},Y={class:"grid grid-cols-1 gap-3 sm:grid-cols-3"},Z=["onClick"],ee=["checked"],le={class:"flex items-center gap-2"},te={class:"font-medium"},ne={class:"flex items-center justify-between"},ie={class:"flex items-center gap-3"},se={class:"flex gap-2"},oe={class:"grid grid-cols-2 gap-3 md:grid-cols-3 lg:grid-cols-4"},ae=["onClick"],de=["checked"],re={class:"flex items-center gap-2"},ce={class:"text-sm font-medium"},ue={class:"flex items-center justify-between"},me={class:"flex items-center gap-3"},ge={class:"flex gap-2"},pe={class:"grid grid-cols-2 gap-3 md:grid-cols-3 lg:grid-cols-4"},fe=["onClick"],ve=["checked"],_e={class:"flex items-center gap-2"},be={class:"text-sm font-medium"},xe={class:"flex items-center justify-between"},ye={class:"flex items-center gap-3"},we={class:"flex gap-2"},ke={class:"grid grid-cols-2 gap-3 md:grid-cols-3 lg:grid-cols-4"},he=["onClick"],Se=["checked"],Ce={class:"flex items-center gap-2"},Me={class:"text-sm font-medium"},Oe={class:"flex items-center gap-3"},Le={class:"space-y-4"},Pe={class:"rounded-lg bg-muted p-4"},We={class:"mb-2 flex items-center justify-between"},$e={class:"overflow-x-auto rounded bg-background p-3 text-xs font-mono text-foreground"},Ae={key:0,class:"text-sm"},Be={class:"mb-2 font-medium"},De={class:"flex flex-wrap gap-2"},Ge={class:"flex items-center gap-3"},je={__name:"BuildConfigurator",setup(Ne){const m=S("full"),y=S("all"),o=S([]),h=S("fscan"),D=[{value:"all",label:"全平台",icon:"mdi:earth"},{value:"windows",label:"Windows",icon:"mdi:microsoft-windows"},{value:"linux",label:"Linux",icon:"mdi:linux"}],C=[{tag:"plugin_ssh",name:"SSH",icon:"mdi:ssh"},{tag:"plugin_ftp",name:"FTP",icon:"mdi:folder-network"},{tag:"plugin_telnet",name:"Telnet",icon:"mdi:console-network"},{tag:"plugin_smb",name:"SMB",icon:"mdi:folder-network"},{tag:"plugin_smb2",name:"SMB2",icon:"mdi:folder-network"},{tag:"plugin_mssql",name:"MSSQL",icon:"mdi:database"},{tag:"plugin_oracle",name:"Oracle",icon:"mdi:database"},{tag:"plugin_mysql",name:"MySQL",icon:"mdi:database"},{tag:"plugin_postgresql",name:"PostgreSQL",icon:"mdi:database"},{tag:"plugin_redis",name:"Redis",icon:"mdi:database"},{tag:"plugin_mongodb",name:"MongoDB",icon:"mdi:database"},{tag:"plugin_rdp",name:"RDP",icon:"mdi:remote-desktop"},{tag:"plugin_vnc",name:"VNC",icon:"mdi:remote-desktop"},{tag:"plugin_ldap",name:"LDAP",icon:"mdi:account-network"},{tag:"plugin_smtp",name:"SMTP",icon:"mdi:email"},{tag:"plugin_rsync",name:"Rsync",icon:"mdi:sync"},{tag:"plugin_memcached",name:"Memcached",icon:"mdi:memory"},{tag:"plugin_rabbitmq",name:"RabbitMQ",icon:"mdi:rabbit"},{tag:"plugin_kafka",name:"Kafka",icon:"mdi:message"},{tag:"plugin_activemq",name:"ActiveMQ",icon:"mdi:message-processing"},{tag:"plugin_cassandra",name:"Cassandra",icon:"mdi:database"},{tag:"plugin_neo4j",name:"Neo4j",icon:"mdi:graph"},{tag:"plugin_elasticsearch",name:"Elasticsearch",icon:"mdi:magnify"},{tag:"plugin_netbios",name:"NetBIOS",icon:"mdi:network"},{tag:"plugin_findnet",name:"FindNet",icon:"mdi:network-outline"},{tag:"plugin_snmp",name:"SNMP",icon:"mdi:network-outline"},{tag:"plugin_smbinfo",name:"SMB Info",icon:"mdi:information"},{tag:"plugin_smbghost",name:"SMB Ghost",icon:"mdi:ghost"},{tag:"plugin_ms17010",name:"MS17-010",icon:"mdi:bug"}],M=[{tag:"plugin_webtitle",name:"WebTitle",icon:"mdi:file-document-outline"},{tag:"plugin_webpoc",name:"WebPoc",icon:"mdi:bug-check"}],O=[{tag:"plugin_systeminfo",name:"SystemInfo",icon:"mdi:information",platform:"all"},{tag:"plugin_envinfo",name:"EnvInfo",icon:"mdi:application-variable",platform:"all"},{tag:"plugin_fileinfo",name:"FileInfo",icon:"mdi:file-document",platform:"all"},{tag:"plugin_avdetect",name:"AVDetect",icon:"mdi:shield-bug",platform:"all"},{tag:"plugin_downloader",name:"Downloader",icon:"mdi:download",platform:"all"},{tag:"plugin_cleaner",name:"Cleaner",icon:"mdi:broom",platform:"all"},{tag:"plugin_reverseshell",name:"ReverseShell",icon:"mdi:console-network",platform:"all"},{tag:"plugin_forwardshell",name:"ForwardShell",icon:"mdi:console-network",platform:"all"},{tag:"plugin_socks5proxy",name:"SOCKS5",icon:"mdi:network",platform:"all"},{tag:"plugin_keylogger",name:"KeyLogger",icon:"mdi:keyboard",platform:"all"},{tag:"plugin_dcinfo",name:"DCInfo",icon:"mdi:server",platform:"windows"},{tag:"plugin_winservice",name:"WinService",icon:"mdi:cog",platform:"windows"},{tag:"plugin_winschtask",name:"WinSchTask",icon:"mdi:calendar-clock",platform:"windows"},{tag:"plugin_winstartup",name:"WinStartup",icon:"mdi:rocket-launch",platform:"windows"},{tag:"plugin_winregistry",name:"WinRegistry",icon:"mdi:file-cog",platform:"windows"},{tag:"plugin_winwmi",name:"WinWMI",icon:"mdi:desktop-classic",platform:"windows"},{tag:"plugin_minidump",name:"MiniDump",icon:"mdi:memory",platform:"windows"},{tag:"plugin_crontask",name:"CronTask",icon:"mdi:calendar-clock",platform:"linux"},{tag:"plugin_shellenv",name:"ShellEnv",icon:"mdi:console",platform:"linux"},{tag:"plugin_ldpreload",name:"LDPreload",icon:"mdi:file-code",platform:"linux"},{tag:"plugin_systemdservice",name:"SystemdService",icon:"mdi:cog",platform:"linux"}],W=A(()=>y.value==="all"?O:O.filter(a=>a.platform==="all"||a.platform===y.value)),$=A(()=>m.value==="full"?`go build -o ${h.value}`:`go build -tags "${["plugin_selective",...o.value].join(",")}" -o ${h.value}`),L=a=>{const l=o.value.indexOf(a);l>-1?o.value.splice(l,1):o.value.push(a)},G=()=>{C.forEach(a=>{o.value.includes(a.tag)||o.value.push(a.tag)})},N=()=>{o.value=o.value.filter(a=>!C.find(l=>l.tag===a))},R=()=>{M.forEach(a=>{o.value.includes(a.tag)||o.value.push(a.tag)})},j=()=>{o.value=o.value.filter(a=>!M.find(l=>l.tag===a))},I=()=>{W.value.forEach(a=>{o.value.includes(a.tag)||o.value.push(a.tag)})},T=()=>{o.value=o.value.filter(a=>!O.find(l=>l.tag===a))},z=async()=>{try{await navigator.clipboard.writeText($.value)}catch(a){console.error("复制失败:",a)}};return(a,l)=>(u(),c("div",q,[l[24]||(l[24]=e("div",{class:"mb-8"},[e("h1",{class:"mb-3 text-4xl font-bold text-foreground"},"构建配置器"),e("p",{class:"text-lg text-muted-foreground"}," 选择需要编译的插件模块，生成定制化的 fscan 可执行文件 ")],-1)),t(n(g),{class:"mb-6"},{default:i(()=>[t(n(p),null,{default:i(()=>[e("div",F,[t(n(r),{icon:"mdi:information",class:"text-2xl text-primary"}),t(n(f),null,{default:i(()=>l[3]||(l[3]=[d("构建约束说明")])),_:1})])]),_:1}),t(n(v),null,{default:i(()=>l[4]||(l[4]=[e("div",{class:"space-y-4 text-sm"},[e("div",null,[e("h4",{class:"mb-2 font-semibold text-foreground"},"什么是构建约束？"),e("p",{class:"text-muted-foreground"}," 构建约束（Build Constraints）允许你在编译时选择性地包含或排除特定功能模块。通过 Go 的构建标签（build tags），你可以编译出只包含所需功能的精简版本。 ")]),e("div",null,[e("h4",{class:"mb-2 font-semibold text-foreground"},"编译模式"),e("ul",{class:"ml-6 list-disc space-y-1 text-muted-foreground"},[e("li",null,[e("strong",null,"完整编译"),d("：不指定任何标签，包含所有插件（默认）")]),e("li",null,[e("strong",null,"选择性编译"),d("：使用 "),e("code",{class:"rounded bg-muted px-1"},"plugin_selective"),d(" 标签，只包含明确指定的插件 ")])])]),e("div",null,[e("h4",{class:"mb-2 font-semibold text-foreground"},"体积优化"),e("p",{class:"text-muted-foreground"}," 选择性编译可显著减小可执行文件体积。例如，只包含 SSH 和 MySQL 插件的版本可能比完整版本小 40-60%。 ")])],-1)])),_:1})]),_:1}),t(n(g),{class:"mb-6"},{default:i(()=>[t(n(p),null,{default:i(()=>[t(n(f),null,{default:i(()=>l[5]||(l[5]=[d("编译模式")])),_:1})]),_:1}),t(n(v),null,{default:i(()=>[e("div",H,[e("div",{class:x(["flex cursor-pointer items-center justify-between rounded-lg border p-4 transition-colors",m.value==="full"?"border-primary bg-primary/5":"border-border"]),onClick:l[0]||(l[0]=s=>m.value="full")},[e("div",Q,[e("input",{type:"radio",checked:m.value==="full",class:"h-4 w-4 text-primary"},null,8,K),l[6]||(l[6]=e("div",null,[e("div",{class:"font-semibold"},"完整编译"),e("div",{class:"text-sm text-muted-foreground"},"包含所有插件模块（约 15-20 MB）")],-1))])],2),e("div",{class:x(["flex cursor-pointer items-center justify-between rounded-lg border p-4 transition-colors",m.value==="selective"?"border-primary bg-primary/5":"border-border"]),onClick:l[1]||(l[1]=s=>m.value="selective")},[e("div",U,[e("input",{type:"radio",checked:m.value==="selective",class:"h-4 w-4 text-primary"},null,8,J),l[7]||(l[7]=e("div",null,[e("div",{class:"font-semibold"},"选择性编译"),e("div",{class:"text-sm text-muted-foreground"}," 只包含选中的插件（可减小 40-60% 体积） ")],-1))])],2)])]),_:1})]),_:1}),m.value==="selective"?(u(),c("div",X,[t(n(g),{class:"mb-6"},{default:i(()=>[t(n(p),null,{default:i(()=>[t(n(f),null,{default:i(()=>l[8]||(l[8]=[d("目标平台")])),_:1})]),_:1}),t(n(v),null,{default:i(()=>[e("div",Y,[(u(),c(w,null,k(D,s=>e("div",{key:s.value,class:x(["flex cursor-pointer items-center gap-3 rounded-lg border p-4 transition-colors",y.value===s.value?"border-primary bg-primary/5":"border-border"]),onClick:P=>y.value=s.value},[e("input",{type:"radio",checked:y.value===s.value,class:"h-4 w-4 text-primary"},null,8,ee),e("div",le,[t(n(r),{icon:s.icon,class:"text-xl"},null,8,["icon"]),e("span",te,_(s.label),1)])],10,Z)),64))])]),_:1})]),_:1}),t(n(g),{class:"mb-6"},{default:i(()=>[t(n(p),null,{default:i(()=>[e("div",ne,[e("div",ie,[t(n(r),{icon:"mdi:server-network",class:"text-2xl text-primary"}),t(n(f),null,{default:i(()=>l[9]||(l[9]=[d("服务类插件")])),_:1})]),e("div",se,[t(n(b),{size:"sm",variant:"outline",onClick:G},{default:i(()=>l[10]||(l[10]=[d("全选")])),_:1}),t(n(b),{size:"sm",variant:"outline",onClick:N},{default:i(()=>l[11]||(l[11]=[d("清空")])),_:1})])])]),_:1}),t(n(v),null,{default:i(()=>[e("div",oe,[(u(),c(w,null,k(C,s=>e("div",{key:s.tag,class:x(["flex cursor-pointer items-center gap-2 rounded-lg border p-3 transition-colors hover:bg-accent",o.value.includes(s.tag)?"border-primary bg-primary/5":""]),onClick:P=>L(s.tag)},[e("input",{type:"checkbox",checked:o.value.includes(s.tag),class:"h-4 w-4 text-primary"},null,8,de),e("div",re,[t(n(r),{icon:s.icon,class:"text-lg text-primary"},null,8,["icon"]),e("span",ce,_(s.name),1)])],10,ae)),64))])]),_:1})]),_:1}),t(n(g),{class:"mb-6"},{default:i(()=>[t(n(p),null,{default:i(()=>[e("div",ue,[e("div",me,[t(n(r),{icon:"mdi:web",class:"text-2xl text-primary"}),t(n(f),null,{default:i(()=>l[12]||(l[12]=[d("Web插件")])),_:1})]),e("div",ge,[t(n(b),{size:"sm",variant:"outline",onClick:R},{default:i(()=>l[13]||(l[13]=[d("全选")])),_:1}),t(n(b),{size:"sm",variant:"outline",onClick:j},{default:i(()=>l[14]||(l[14]=[d("清空")])),_:1})])])]),_:1}),t(n(v),null,{default:i(()=>[e("div",pe,[(u(),c(w,null,k(M,s=>e("div",{key:s.tag,class:x(["flex cursor-pointer items-center gap-2 rounded-lg border p-3 transition-colors hover:bg-accent",o.value.includes(s.tag)?"border-primary bg-primary/5":""]),onClick:P=>L(s.tag)},[e("input",{type:"checkbox",checked:o.value.includes(s.tag),class:"h-4 w-4 text-primary"},null,8,ve),e("div",_e,[t(n(r),{icon:s.icon,class:"text-lg text-primary"},null,8,["icon"]),e("span",be,_(s.name),1)])],10,fe)),64))])]),_:1})]),_:1}),t(n(g),{class:"mb-6"},{default:i(()=>[t(n(p),null,{default:i(()=>[e("div",xe,[e("div",ye,[t(n(r),{icon:"mdi:application-cog",class:"text-2xl text-primary"}),t(n(f),null,{default:i(()=>l[15]||(l[15]=[d("本地插件")])),_:1})]),e("div",we,[t(n(b),{size:"sm",variant:"outline",onClick:I},{default:i(()=>l[16]||(l[16]=[d("全选")])),_:1}),t(n(b),{size:"sm",variant:"outline",onClick:T},{default:i(()=>l[17]||(l[17]=[d("清空")])),_:1})])])]),_:1}),t(n(v),null,{default:i(()=>[e("div",ke,[(u(!0),c(w,null,k(W.value,s=>(u(),c("div",{key:s.tag,class:x(["flex cursor-pointer items-center gap-2 rounded-lg border p-3 transition-colors hover:bg-accent",o.value.includes(s.tag)?"border-primary bg-primary/5":""]),onClick:P=>L(s.tag)},[e("input",{type:"checkbox",checked:o.value.includes(s.tag),class:"h-4 w-4 text-primary"},null,8,Se),e("div",Ce,[t(n(r),{icon:s.icon,class:"text-lg text-primary"},null,8,["icon"]),e("span",Me,_(s.name),1)])],10,he))),128))])]),_:1})]),_:1})])):B("",!0),t(n(g),{class:"mb-6"},{default:i(()=>[t(n(p),null,{default:i(()=>[e("div",Oe,[t(n(r),{icon:"mdi:console",class:"text-2xl text-primary"}),t(n(f),null,{default:i(()=>l[18]||(l[18]=[d("构建命令")])),_:1})])]),_:1}),t(n(v),null,{default:i(()=>[e("div",Le,[e("div",null,[l[19]||(l[19]=e("label",{class:"mb-2 block text-sm font-medium"},"输出文件名",-1)),E(e("input",{"onUpdate:modelValue":l[2]||(l[2]=s=>h.value=s),type:"text",placeholder:"fscan",class:"w-full rounded-lg border border-input bg-background px-4 py-2 text-sm outline-none transition-colors focus:border-ring"},null,512),[[V,h.value]])]),e("div",Pe,[e("div",We,[l[21]||(l[21]=e("span",{class:"text-sm font-medium"},"生成的构建命令：",-1)),t(n(b),{size:"sm",variant:"outline",onClick:z},{default:i(()=>[t(n(r),{icon:"mdi:content-copy",class:"mr-1 text-base"}),l[20]||(l[20]=d(" 复制 "))]),_:1})]),e("pre",$e,_($.value),1)]),m.value==="selective"&&o.value.length>0?(u(),c("div",Ae,[e("div",Be,"已选择插件 ("+_(o.value.length)+")：",1),e("div",De,[(u(!0),c(w,null,k(o.value,s=>(u(),c("span",{key:s,class:"rounded-full bg-primary/10 px-3 py-1 text-xs font-medium text-primary"},_(s.replace("plugin_","")),1))),128))])])):B("",!0)])]),_:1})]),_:1}),t(n(g),null,{default:i(()=>[t(n(p),null,{default:i(()=>[e("div",Ge,[t(n(r),{icon:"mdi:lightbulb",class:"text-2xl text-primary"}),t(n(f),null,{default:i(()=>l[22]||(l[22]=[d("使用示例")])),_:1})])]),_:1}),t(n(v),null,{default:i(()=>l[23]||(l[23]=[e("div",{class:"space-y-4 text-sm"},[e("div",null,[e("h4",{class:"mb-2 font-semibold"},"Windows 平台编译："),e("pre",{class:"overflow-x-auto rounded bg-muted p-3 font-mono text-xs"},'GOOS=windows GOARCH=amd64 go build -tags "plugin_selective,plugin_ssh,plugin_mysql" -o fscan.exe')]),e("div",null,[e("h4",{class:"mb-2 font-semibold"},"Linux 平台编译："),e("pre",{class:"overflow-x-auto rounded bg-muted p-3 font-mono text-xs"},'GOOS=linux GOARCH=amd64 go build -tags "plugin_selective,plugin_ssh,plugin_redis" -o fscan')]),e("div",null,[e("h4",{class:"mb-2 font-semibold"},"交叉编译示例："),e("pre",{class:"overflow-x-auto rounded bg-muted p-3 font-mono text-xs"},`# 在 Linux/Mac 上编译 Windows 版本
GOOS=windows GOARCH=amd64 go build -o fscan.exe

# 在 Windows 上编译 Linux 版本
set GOOS=linux
set GOARCH=amd64
go build -o fscan`)])],-1)])),_:1})]),_:1})]))}};export{je as default};
